<div class="form-group"></div> <!-- spacer -->
<div class="form-group">
  <label for="action" class="col-lg-2 control-label">Action</label>
  <div class="col-lg-2">
    <select name="action" id="action" class="form-control" ng-model="teststep.action"
            ng-change="actionChanged(teststepForm.$valid)"
            ng-disabled="appStatus.isForbidden() || steprun.status === 'ongoing'">
      <option value="Read">Read</option>
      <option value="Write">Write</option>
    </select>
  </div>
  <div class="col-lg-1">
    <button type="button" class="btn btn-info btn-block" ng-click="doAction()"
            ng-disabled="appStatus.isForbidden() || endpointInfoIncomplete() || actionInfoIncomplete()) || 
              steprun.status === 'ongoing'">Do</button>
  </div>
  <div class="col-lg-4">       <!-- Action run status message -->
  	<h5 ng-if="teststep.action === 'Read' && steprun.status === 'ongoing'">Reading file ...</h5>
  	<h5 ng-if="teststep.action === 'Read' && steprun.status === 'finished'">File read.</h5>
  	<h5 ng-if="teststep.action === 'Write' && steprun.status === 'ongoing'">Writing file ...</h5>
  	<h5 ng-if="teststep.action === 'Write' && steprun.status === 'finished'">File written.</h5>
  </div>
</div>

<div ng-if="teststep.action === 'Read'">
  <div class="form-group form-group-reduced-bottom-margin" height-adjustable-element-in-column="0.7">
	<div class="col-lg-10 full-height">
	  <textarea name="contents" ng-model="steprun.response" id="contents" placeholder="File Contents" 
	            class="form-control full-height-important" spellcheck="false"
	            ng-readonly="appStatus.isForbidden()"></textarea>
	</div>
  </div>
</div>
<div ng-if="teststep.action === 'Write'">
  <div class="form-group form-group-reduced-bottom-margin" height-adjustable-element-in-column="0.7">
	<div class="col-lg-10 full-height">
	  <textarea name="contents" ng-model="teststep.request" id="contents" placeholder="File Contents" 
	            class="form-control full-height-important" spellcheck="false" ng-change="actionChanged(teststepForm.$valid)"
	            ng-readonly="appStatus.isForbidden()"></textarea>
	</div>
  </div>
</div>